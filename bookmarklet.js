javascript:(function(){var batchId=prompt("enter batch ID"),trackId=prompt("enter track ID");function init(){let o=`https://learn.co/api/v1/batches/${batchId}/tracks/${trackId}/deployed`,t=fetch(`https://learn.co/api/v1/batches/${batchId}/tracks/${trackId}/progress`).then(o=>o.json()),e=fetch(o).then(o=>o.json());Promise.all([t,e]).then(o=>{getIndividualData(o[0].map(o=>(o.lessons=[],o)),o[1])})}function getIndividualData(o,t){let e=[],s=1;t.topics.forEach(o=>{o.units.forEach(o=>{o.lessons.forEach(o=>{let t=fetch(`https://learn.co/api/v1/batches/${batchId}/lessons/${o.node.id}`).then(o=>(console.log(`Fetched ${s} lessons`),s++,o.json()));e.push(t)})})}),Promise.all(e).then(t=>{compileResults(o,t)})}function compileResults(o,t){t.forEach(t=>{t.students.forEach(e=>{let s,l=o.find(o=>o.id===e.id);e.completed_at?s="âœ… ":e.started_at&&!e.completed_at?s="ðŸ’ª ":e.started_at||(s="âŒ "),s+=t.title,l.lessons.push(s)})}),printStudentProgress(o)}function printStudentProgress(o){console.log("************************************************************************"),console.log("******************************START REPORT******************************"),console.log("************************************************************************"),console.log(""),o.forEach(o=>{console.log(o.full_name),console.log("------------------------------------------------------"),o.lessons.forEach(o=>{console.log("|"+o)}),console.log("------------------------------------------------------"),console.log("")}),console.log("************************************************************************"),console.log("*******************************END REPORT*******************************"),console.log("************************************************************************")}init()})()
